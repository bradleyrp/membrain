(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 8.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       157,          7]
NotebookDataLength[      4601,        154]
NotebookOptionsPosition[      3999,        128]
NotebookOutlinePosition[      4335,        143]
CellTagsIndexPosition[      4292,        140]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[
 RowBox[{
  RowBox[{"lopass", "=", 
   RowBox[{"Compile", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"x", ",", "_Real", ",", "1"}], "}"}], ",", "dt", ",", "RC"}], 
      "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{"Module", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"a", "=", 
          RowBox[{"dt", "/", 
           RowBox[{"(", 
            RowBox[{"RC", "+", "dt"}], ")"}]}]}], ",", 
         RowBox[{"yprev", "=", 
          RowBox[{"First", "[", "x", "]"}]}], ",", "yi"}], "}"}], ",", 
       RowBox[{"Table", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"yi", "=", 
           RowBox[{
            RowBox[{"a", "*", 
             RowBox[{"x", "[", 
              RowBox[{"[", "i", "]"}], "]"}]}], "+", 
            RowBox[{
             RowBox[{"(", 
              RowBox[{"1", "-", "a"}], ")"}], "*", "yprev"}]}]}], ";", 
          "\[IndentingNewLine]", 
          RowBox[{"yprev", "=", "yi"}], ";", "\[IndentingNewLine]", "yi"}], 
         ",", 
         RowBox[{"{", 
          RowBox[{"i", ",", "1", ",", 
           RowBox[{"Length", "[", "x", "]"}]}], "}"}]}], "]"}]}], "]"}]}], 
    "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.591551583406292*^9, 3.591551647419682*^9}}],

Cell[BoxData[{
 RowBox[{"targetDir", "=", 
  RowBox[{"CreateDirectory", "[", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"fnSource", "=", 
   RowBox[{"FileNameJoin", "[", 
    RowBox[{"{", 
     RowBox[{"targetDir", ",", "\"\<lopass.c\>\""}], "}"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Export", "[", 
   RowBox[{"fnSource", ",", "lopass"}], "]"}], ";"}]}], "Input",
 CellChangeTimes->{{3.591551655527026*^9, 3.591551696726812*^9}}],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"lopassmainSrcFile", "=", 
   RowBox[{"FileNameJoin", "[", 
    RowBox[{"{", 
     RowBox[{"targetDir", ",", "\"\<lopassMain.c\>\""}], "}"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"Export", "[", 
  RowBox[{"lopassmainSrcFile", ",", "lopassmainSrc", ",", "\"\<Text\>\""}], 
  "]"}]}], "Input",
 CellChangeTimes->{{3.591551705125996*^9, 3.591551740166438*^9}}],

Cell[BoxData["\<\"/tmp/m00000259841/lopassMain.c\"\>"], "Output",
 CellChangeTimes->{3.591551741805238*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"Needs", "[", "\"\<CCompilerDriver`\>\"", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"lopassExe", "=", 
  RowBox[{"CreateExecutable", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"fnSource", ",", "lopassmainSrcFile"}], "}"}], ",", 
    "\[IndentingNewLine]", "\"\<lopass\>\"", ",", 
    RowBox[{"\"\<TargetDirectory\>\"", "\[Rule]", "targetDir"}], ",", 
    RowBox[{
    "\"\<Libraries\>\"", "\[Rule]", "\"\<WolframRTL_Static_Minimal\>\""}]}], 
   "]"}]}]}], "Input",
 CellChangeTimes->{{3.591551745208929*^9, 3.59155179712339*^9}}],

Cell[BoxData["$Failed"], "Output",
 CellChangeTimes->{3.591551800574147*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"hello", "=", 
  RowBox[{"CreateExecutable", "[", 
   RowBox[{
   "\"\<\n#include <stdio.h>\nint main(){\n  printf(\\\"hello \
world\\\\n\\\");\n}\n\>\"", ",", " ", "\"\<hello\>\""}], "]"}]}]], "Input"],

Cell[BoxData["\<\"/home/rpb/.Mathematica/SystemFiles/LibraryResources/Linux-\
x86-64/hello\"\>"], "Output",
 CellChangeTimes->{3.5915518438996353`*^9}]
}, Open  ]]
},
WindowSize->{740, 867},
WindowMargins->{{Automatic, 80}, {Automatic, 50}},
FrontEndVersion->"8.0 for Linux x86 (64-bit) (November 7, 2010)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[557, 20, 1303, 38, 107, "Input"],
Cell[1863, 60, 468, 12, 69, "Input"],
Cell[CellGroupData[{
Cell[2356, 76, 407, 10, 50, "Input"],
Cell[2766, 88, 107, 1, 30, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[2910, 94, 578, 14, 88, "Input"],
Cell[3491, 110, 76, 1, 30, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[3604, 116, 225, 5, 130, "Input"],
Cell[3832, 123, 151, 2, 30, "Output"]
}, Open  ]]
}
]
*)

(* End of internal cache information *)

